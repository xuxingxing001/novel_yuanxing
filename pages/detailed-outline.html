<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>章节细纲生成 - AI网文小说创作助手</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="common.css" rel="stylesheet">
    <link href="common/creation-info-accordion.css" rel="stylesheet">
</head>
<body>
    <div class="page-container">
        <!-- 导航栏 -->
        <nav class="navbar">
            <div class="container navbar-container">
                <a href="home.html" class="navbar-brand">AI网文小说创作助手</a>
                <div class="navbar-nav">
                    <a href="novel-list.html" class="nav-link">我的小说</a>
                    <a href="genre-selection.html" class="nav-link active">创作中心</a>
                    <a href="profile.html" class="nav-link">
                        <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&q=80" alt="用户头像" class="avatar">
                    </a>
                </div>
            </div>
        </nav>

        <!-- 主要内容 -->
        <div class="container main-container">
            <div class="content-wrapper">
                <!-- 步骤指示器 -->
                <div class="steps-container mb-6">
                    <div class="steps">
                        <div class="step completed">
                            <div class="step-circle">1</div>
                            <div class="step-text">选择流派</div>
                        </div>
                        <div class="step-connector completed"></div>
                        <div class="step completed">
                            <div class="step-circle">2</div>
                            <div class="step-text">输入梗概</div>
                        </div>
                        <div class="step-connector completed"></div>
                        <div class="step completed">
                            <div class="step-circle">3</div>
                            <div class="step-text">故事要素</div>
                        </div>
                        <div class="step-connector completed"></div>
                        <div class="step completed">
                            <div class="step-circle">4</div>
                            <div class="step-text">章节大纲</div>
                        </div>
                        <div class="step-connector completed"></div>
                        <div class="step active">
                            <div class="step-circle">5</div>
                            <div class="step-text">章节细纲</div>
                        </div>
                        <div class="step-connector"></div>
                        <div class="step">
                            <div class="step-circle">6</div>
                            <div class="step-text">生成正文</div>
                        </div>
                    </div>
                </div>
                
                <!-- 创作信息手风琴组件 -->
                <div id="creation-info-container">
                    <!-- 这里将通过JavaScript动态加载创作信息手风琴组件 -->
                </div>
                
                <!-- 页面主要内容 -->
                <!-- 小说标题显示区域 -->
                <div class="novel-title-display">
                    <h1 id="novel-title-display" class="novel-title-text">未命名作品</h1>
                    <button id="novel-title-edit-btn" class="novel-title-edit-btn">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                
                <!-- 步骤条 -->
                <div class="steps">
                    <div class="step completed">
                        <div class="step-number">1</div>
                        <div class="step-label">选择流派</div>
                    </div>
                    <div class="step completed">
                        <div class="step-number">2</div>
                        <div class="step-label">输入梗概</div>
                    </div>
                    <div class="step completed">
                        <div class="step-number">3</div>
                        <div class="step-label">故事要素</div>
                    </div>
                    <div class="step completed">
                        <div class="step-number">4</div>
                        <div class="step-label">章节大纲</div>
                    </div>
                    <div class="step active">
                        <div class="step-number">5</div>
                        <div class="step-label">章节细纲</div>
                    </div>
                    <div class="step">
                        <div class="step-number">6</div>
                        <div class="step-label">生成正文</div>
                    </div>
                </div>

                <!-- 页面标题 -->
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-center">章节细纲生成</h1>
                    <p class="text-center text-gray-600 mt-2">AI将为您生成更详细的章节细纲，帮助您更好地规划故事情节</p>
                </div>

                <!-- 步骤导航 -->
                <div class="bg-gray-50 p-4 rounded-lg mb-6">
                    <h3 class="font-bold mb-2">创作进度</h3>
                    <div class="flex flex-wrap gap-2">
                        <a href="genre-selection.html" class="text-sm px-3 py-1 bg-white border rounded hover:bg-gray-100 flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-1"></i> 流派：都市-异能流
                        </a>
                        <a href="story-outline.html" class="text-sm px-3 py-1 bg-white border rounded hover:bg-gray-100 flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-1"></i> 梗概：已完成
                        </a>
                        <a href="inspiration-generation.html" class="text-sm px-3 py-1 bg-white border rounded hover:bg-gray-100 flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-1"></i> 故事要素：已完成
                        </a>
                        <a href="chapter-outline.html" class="text-sm px-3 py-1 bg-white border rounded hover:bg-gray-100 flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-1"></i> 章节大纲：已完成
                        </a>
                        <span class="text-sm px-3 py-1 bg-blue-50 border border-blue-200 rounded flex items-center font-bold">
                            <i class="fas fa-pen text-blue-500 mr-1"></i> 当前：章节细纲
                        </span>
                        <a href="content-generation.html" class="text-sm px-3 py-1 bg-white border rounded hover:bg-gray-100 flex items-center opacity-75">
                            <i class="fas fa-circle text-gray-300 mr-1"></i> 下一步：生成正文
                        </a>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">您可以随时点击切换到其他步骤，系统会自动保存您的进度</p>
                </div>

                <!-- 当前选择的流派和梗概 -->
                <div class="card mb-8">
                    <div class="card-header">
                        <h2 class="card-title">当前创作信息</h2>
                        <a href="story-outline.html" class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-edit"></i> 编辑
                        </a>
                    </div>
                    <div class="card-body">
                        <div class="flex items-center mb-4">
                            <span class="tag tag-male mr-2">男频</span>
                            <span class="font-bold">都市-异能流</span>
                        </div>
                        <div class="border-t pt-4">
                            <h3 class="font-bold mb-2">故事梗概</h3>
                            <p class="text-gray-600">
                                大学生李天阳在一次偶然的机会下获得了一个神秘的系统，可以看到他人的情感值。从此，他的生活发生了翻天覆地的变化，不仅能够轻松应对各种人际关系，还能在危机时刻洞察他人的真实想法。在都市中游刃有余的同时，他逐渐发现这个系统背后隐藏着更大的秘密...
                            </p>
                        </div>
                        <div class="border-t pt-4 mt-4">
                            <h3 class="font-bold mb-2">故事要素</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
                                <div>
                                    <p class="font-semibold text-blue-600"><i class="fas fa-book-open mr-1"></i> 情节要素</p>
                                    <p class="text-gray-600">意外获能、职场竞争、身份隐藏</p>
                                </div>
                                <div>
                                    <p class="font-semibold text-green-600"><i class="fas fa-user mr-1"></i> 角色要素</p>
                                    <p class="text-gray-600">平凡主角、神秘高手、隐世家族</p>
                                </div>
                                <div>
                                    <p class="font-semibold text-purple-600"><i class="fas fa-cogs mr-1"></i> 设定要素</p>
                                    <p class="text-gray-600">异能体系、隐秘组织、都市规则</p>
                                </div>
                                <div>
                                    <p class="font-semibold text-yellow-600"><i class="fas fa-map-marked-alt mr-1"></i> 场景要素</p>
                                    <p class="text-gray-600">高级写字楼、隐秘基地、能力对决</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 章节选择 -->
                <div class="card mb-8">
                    <div class="card-header">
                        <h2 class="card-title">选择章节</h2>
                    </div>
                    <div class="card-body">
                        <div class="mb-4">
                            <label class="form-label">当前章节</label>
                            <select id="chapter-selector" class="form-control">
                                <option value="1">第1章：意外获能</option>
                                <option value="2">第2章：初试能力</option>
                                <option value="3" selected>第3章：神秘女孩</option>
                                <option value="4">第4章：隐秘组织</option>
                                <option value="5">第5章：能力升级</option>
                            </select>
                        </div>
                        <div class="flex justify-between">
                            <button class="btn btn-secondary">
                                <i class="fas fa-chevron-left mr-1"></i> 上一章
                            </button>
                            <button class="btn btn-secondary">
                                下一章 <i class="fas fa-chevron-right ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 章节细纲生成 -->
                <div class="card mb-8">
                    <div class="card-header">
                        <h2 class="card-title">生成章节细纲</h2>
                    </div>
                    <div class="card-body">
                        <div class="mb-4">
                            <h3 class="font-bold text-lg mb-2">第3章：神秘女孩</h3>
                            <p class="text-gray-600">李天阳遇到一个无法读取情感值的神秘女孩，引起了他的好奇，决定一探究竟。</p>
                        </div>
                        
                        <div class="mb-4">
                            <label class="form-label">细纲风格</label>
                            <select id="outline-style" class="form-control mb-2">
                                <option value="detailed">详细型（包含场景、对话提示）</option>
                                <option value="concise">简洁型（主要情节点）</option>
                                <option value="structural">结构型（分段落结构）</option>
                            </select>
                        </div>
                        
                        <div class="mb-4">
                            <label class="form-label">关键元素</label>
                            <div class="flex flex-wrap gap-2 mb-2">
                                <span class="tag tag-primary">校园场景</span>
                                <span class="tag tag-primary">初次见面</span>
                                <span class="tag tag-primary">能力失效</span>
                                <span class="tag tag-primary">神秘身份</span>
                                <span class="tag tag-primary">好奇心驱动</span>
                                <span class="tag tag-primary">+</span>
                            </div>
                        </div>
                        
                        <div class="text-center">
                            <button id="generate-detailed-outline" class="btn btn-primary">
                                <i class="fas fa-magic mr-2"></i> 生成章节细纲
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 章节细纲编辑区域 -->
                <div class="card mb-8">
                    <div class="card-header">
                        <h2 class="card-title">章节细纲</h2>
                        <div class="flex gap-2">
                            <button class="btn btn-sm btn-secondary">
                                <i class="fas fa-edit"></i> 编辑
                            </button>
                            <button class="btn btn-sm btn-secondary">
                                <i class="fas fa-redo"></i> 重新生成
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <textarea id="detailed-outline-container" class="form-control" rows="15" placeholder="点击"生成章节细纲"按钮，AI将为您生成详细的章节细纲"></textarea>
                    </div>
                </div>

                <!-- 关键元素提示 -->
                <div class="mb-8">
                    <h2 class="text-xl font-bold mb-4">关键元素提示</h2>
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <p class="text-gray-700 mb-3">根据都市-异能流的特点，建议在第一章中包含以下关键元素：</p>
                        <div class="flex flex-wrap gap-2">
                            <span class="tag tag-primary">主角介绍</span>
                            <span class="tag tag-primary">能力获得</span>
                            <span class="tag tag-primary">初次体验</span>
                            <span class="tag tag-primary">生活变化</span>
                            <span class="tag tag-primary">神秘引子</span>
                            <span class="tag tag-primary">情感描写</span>
                            <span class="tag tag-primary">场景描写</span>
                        </div>
                    </div>
                </div>

                <!-- 操作按钮 -->
                <div class="flex justify-between">
                    <a href="chapter-outline.html" class="btn btn-secondary">
                        <i class="fas fa-arrow-left mr-2"></i> 上一步
                    </a>
                    <a href="content-generation.html" class="btn btn-primary">
                        <i class="fas fa-arrow-right mr-2"></i> 下一步
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script src="common.js"></script>
    <script src="common/creation-info-accordion.js"></script>
    <script src="detailed-outline-data.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 加载创作信息手风琴组件
            fetch('common/creation-info-template.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('creation-info-container').innerHTML = html;
                    // 初始化手风琴组件
                    initCreationInfoAccordion();
                });
                
            // 其他页面特定的JavaScript保持不变
            // ...
        });
    </script>
</body>
</html> 